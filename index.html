<!DOCTYPE html>
<html lang="en">

<head>
    <title>Bobby Ma 13CompSci - Gaming Website</title>
    <meta charset="UTF-8">
    <meta name="description" content="13COMP Gaming">
    <meta name="keywords" content="13COMP, Gaming">
    <meta name="author" content="Mr Bob">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- P5.js *************************************************-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.10.2/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/addons/p5.dom.min.js"></script>
    <!-- firebase start ****************************************-->
    <!-- Firebase App (core Firebase SDK) is always required & must be listed 1st -->
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-app.js"></script>
    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-database.js"></script>
    <!-- W3-CSS and Bootstrap -->
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- firebase end ******************************************-->
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>
    <script src="js/firebase.js"></script>
    <script src="js/main.js"></script>
    <link href="css/style.css" rel="stylesheet">
</head>

<body>
    <!-- Body container start -->
    <div id="container">
        <!-- top header start -->
        <header class="header dark-bg w3-bar">

            <!--logo start-->
            <a href="#" class="w3-margin logo">Bobby's <span class="lite">Game</span></a>
            <!--logo end-->
            <button class="w3-bar-item w3-btn w3-right w3-black w3-margin w3-hover-white"
                onclick="mainApp.logOut()">Logout</button>

            <button id="adminButton" class="w3-bar-item w3-btn w3-right w3-black w3-margin w3-hover-white"
                onclick="mainApp.adminCheck()">Admin Sign in</button>

            <button id="leaderboard" class="w3-bar-item w3-btn w3-right w3-black w3-margin w3-hover-white"
                onclick="leaderboard.addToBoard()">Leaderboard</button>

            <div class="w3-bar-item w3-right w3-margin" id="welMsg"></div>
        </header>
        <!--header end-->

        <!--sidebar start-->
        <aside>
            <div id="sidebar" class="nav-collapse">
                <!-- sidebar menu start-->
                <ul class="sidebar-menu">
                    <li class="active">
                        <a class="" href="index.html">
                            <span>Guess the Number</span>
                        </a>
                    </li>

                    <li class="w3-tooltip">
                        <span class="w3-text w3-tag w3-text-red"><b>Game is Under Development</b></span>
                        <a class="" href="#">
                            <span>Game 2</span>
                        </a>
                    </li>
                    <li class="w3-tooltip">
                        <span class="w3-text w3-tag w3-text-red"><b>Game is Under Development</b></span>
                        <a class="" href="#">
                            <span>Game 3</span>
                        </a>
                    </li>
                </ul>
                <!-- sidebar menu end-->
            </div>
        </aside>
        <!--sidebar end-->

        <!-- ******************************************** Admin Data Modal Starts ******************************************** -->
        <div id="adminTable" class="w3-modal">
            <div class="table-content w3-modal-content w3-card-4 w3-animate-zoom">
                <header class="w3-container w3-blue">
                    <span onclick="document.getElementById('adminTable').style.display='none'"
                        class="w3-button w3-blue w3-xlarge w3-display-topright">&times;</span>
                    <h2 class="w3-container admin-heading">Admin Table</h2>
                </header>

                <div class="w3-responsive container">
                    <!-- User Table -->
                    <table id="usersTable" class="table table-hover table-bordered">
                        <caption>List of users</caption>
                        <thead class="thead-light">
                            <tr>
                                <th>UserNo</th>
                                <th>Name</th>
                                <th>Display Name</th>
                                <th>Email</th>
                                <th>Age</th>
                                <th>Gender</th>
                                <th>Phone</th>
                                <th>St Num</th>
                                <th>Street</th>
                                <th>Suburb</th>
                                <th>City</th>
                                <th>Postcode</th>
                                <th>Total Wins</th>
                                <th>Total Losses</th>
                                <th>UID</th>
                                <th>Control Center</th>
                            </tr>
                        </thead>

                        <tbody id="tbody1">
                        </tbody>
                    </table>
                    <!-- Games Table  -->
                    <table>
                        <thead id="unActiveGames" class="thead-light">
                            <tr>
                                <th>Game Name</th>
                                <th>Time</th>
                                <th>Control Center</th>
                            </tr>
                        </thead>

                    </table>
                </div>

                <!-- Modal from bootstrap 5-->
                <div class="modal fade border border-dark" id="exampleModalCenter" tabindex="-1" role="dialog"
                    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLongTitle">Control Panel</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            
                            <div class="modal-body">
                                <label class="labs">Name: </label>
                                <input type="text" id="displayNameMod"><br>
                                <label class="labs">In Game Name: </label>
                                <input type="text" id="inGameNameMod"><br>
                                <label class="labs">Email: </label>
                                <input type="text" id="emailMod"><br>
                                <label class="labs">Age: </label>
                                <input type="text" id="ageMod"><br>
                                <label class="labs">Gender: </label>
                                <input type="text" id="genderMod"><br>
                                <label class="labs">Phone: </label>
                                <input type="text" id="phoneMod"><br>
                                <label class="labs">St Num: </label>
                                <input type="text" id="stNumMod"><br>
                                <label class="labs">Street: </label>
                                <input type="text" id="streetMod"><br>
                                <label class="labs">Suburb: </label>
                                <input type="text" id="suburbMod"><br>
                                <label class="labs">City: </label>
                                <input type="text" id="cityMod"><br>
                                <label class="labs">Postcode: </label>
                                <input type="text" id="postcodeMod"><br>
                                <label class="labs">Total Wins: </label>
                                <input type="text" id="winsMod"><br>
                                <label class="labs">Total Losses: </label>
                                <input type="text" id="losesMod"><br>
                                <label id="requiredUid" class="labs">UID: </label>
                                <input type="text" id="uidMod"><br>

                            </div>
                            <div class="modal-footer">
                                <button id="addModBtn" type="button" class="btn btn-primary"
                                    onclick="adminSelect.addUser()">Add New
                                    Record</button>
                                <button id="updModBtn" type="button" class="btn btn-success"
                                    onclick="adminSelect.updUser()">Update
                                    Record</button>
                                <button id="delModBtn" type="button" class="btn btn-danger"
                                    onclick="adminSelect.delUser()">Delete
                                    Record</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="w3-container w3-light-grey w3-padding">
                    <button class="w3-button w3-right w3-white w3-border"
                        onClick="document.getElementById('adminTable').style.display='none'">Save and
                        Close</button>
                </div>
            </div>
        </div>
        <!-- ******************************************** Admin Data Modal Ends ******************************************** -->

        <!-- ******************************************** Leaderboard Modal Starts ******************************************** -->
        <div id="ranking" class="w3-modal">
            <div class="w3-modal-content">
                <div class="w3-container">
                    <span onclick="document.getElementById('ranking').style.display='none'"
                        class="w3-button w3-display-topright">&times;</span>
                    <table id="rankBoard" class="w3-table w3-bordered w3-hoverable">
                        <thead>
                            <tr>
                                <th>Rank #</th>
                                <th>Name</th>
                                <th>Total Wins</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- ******************************************** Leaderboard Modal Ends ******************************************** -->

        <!-- ******************************************** Main Content Start ******************************************** -->
        <div id="main-content">
            <!-- Infomation Display -->
            <div class="infoDisplay">
                <div class="w3-container info-container">Win Rate(%):
                    <div class="score" id="WR"></div>
                </div>
                <div class="w3-container info-container">Total Wins:
                    <div class="high-score" id="totalWins"></div>
                </div>
                <div class="w3-container info-container">Loss:
                    <div class="miss" id="loss"></div>
                </div>
            </div>

            <!-- Barrier Modal -->
            <div id="barrierModal" class="w3-modal">
                <div class="w3-modal-content">
                    <div class="w3-container">
                        <p>Waiting for Other Player...</p>
                        <button id="cancelLobby">Cancel</button>
                    </div>
                </div>
            </div>

            <!-- How to play Modal -->
            <section>
                <div id="info" class="w3-modal">
                    <div class="w3-modal-content">
                        <div class="w3-container">
                            <span onclick="document.getElementById('info').style.display='none'"
                                class="w3-button w3-display-topright">&times;</span>
                            <h2 class="instruction-heading">Welcome to Guess The Number</h2>
                            <p>First both players choose any single digit number.
                                They they would take turns, one at a time, to guess the other person's number.
                                During their turn, they will have 10 seconds to guess. If the time runs out, they lose.
                                The first player to guess the opponents number wins.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Game Canvas -->
            <div id="wrapper" class="wrapper w3-margin w3-display-container">
                <div id="notification" class="notification">
                    <span class="close"></span>
                    <h3>Attention</h3>
                    <p id="notiMessage">Player has joined</p>
                </div>

                <div id="gameName" class="w3-display-middle game-name-container">
                    <div class="gameName">Guess the Number</div>
                </div>

                <div id="startBtn" class="w3-container w3-display-middle middle-container">
                    <button class="startBtn w3-margin" onclick="gameManager.setupCvs()">Start</button>

                    <button onclick="document.getElementById('info').style.display='block'"
                        class="insBtn w3-button w3-black">How to Play</button>
                </div>

                <!-- Guess the Number Mutiplayer Lobby -->
                <div id="lobbyWrapper">
                    <button id="createBtn" onclick="GTN.createGame()"
                        class="createBtn w3-display-topright w3-margin w3-btn w3-white w3-border w3-border-green w3-round-xlarge">Create</button>

                    <div class="refresh">
                        <i onclick="GTN.selectAllGame()" class="w3-display-topright fa fa-refresh material-icons"></i>
                    </div>
                    <div id="GTN_lobby">
                        <table class="tttLobby w3-hoverable w3-table w3-bordered w3-display-topmiddle">
                            <thead>
                                <tr>
                                    <th class="lobbyName">Game</th>
                                    <th>Players</th>
                                </tr>
                            </thead>

                            <tbody id="GTN_tablebody">
                            </tbody>
                        </table>
                    </div>

                </div>

                <!-- *********** GTN Playboard *********** -->
                <div id="GTN" class="w3-row">
                    <!-- First Half -->
                    <div class="player-half w3-half w3-col m6 l6 s6 w3-padding">
                        <div class="guess-field w3-white w3-text-grey w3-card-4">
                            <div class="w3-container">
                                <div>Your Opponent: <span id="oppName"></span></div>
                                <div id="initalNum">
                                    <form onsubmit="return false">
                                        <p>Input your number:</p>
                                        <input id="guessNum" type="text" maxlength="1"
                                            oninput="this.value=this.value.replace(/[^0-9]/g,'');">
                                        <input type="submit" onclick="GTN.readNum()">
                                    </form>
                                </div>

                                <div id="guessOpp">
                                    <form onsubmit="return false">
                                        <p>Input your guess:</p>
                                        <input title="guessOppNum" id="guessOppNum" type="text" maxlength="1"
                                            oninput="this.value=this.value.replace(/[^0-9]/g,'');" autofocus>
                                        <button type="submit" id="submit-guess"
                                            onclick="GTN.guessNum(document.getElementById('guessOppNum').value)">Submit</button>
                                    </form>
                                    <div id="sync"></div>
                                    <div id="countDown"></div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <!-- Second Half -->
                    <div class="opp-half w3-half w3-col m6 l6 s6 w3-padding">
                        <div class="w3-white w3-text-grey w3-card-4">
                            <div class="w3-container">
                                <div id="selfNum"></div>
                                <div>Your Number: <span id="initalGuessNum"></span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <button id="stopBtn" class="stopBtn w3-container" onclick="gameManager.stopGame()">Back</button>
        </div>
    </div>

    <!-- ******************************************** main content end ******************************************** -->

    <script src="js/GTN.js"></script>
    <script src="js/leaderboard.js"></script>
    <script src="js/winLose.js"></script>
    <script src="js/adminSelect.js"></script>
    <script src="js/gameManager.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
</body>

</html>